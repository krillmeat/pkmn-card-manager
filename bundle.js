'use strict';

const HS$1 = {
  //POKEMON
  HS_1: {
    name: 'Arcanine',
    cardType: 'pkmn',
    type: 'fire'
  },
  HS_2: {
    name: 'Azumarill',
    cardType: 'pkmn',
    type: 'water'
  },
  HS_3: {
    name: 'Clefable',
    cardType: 'pkmn'
  },
  HS_4: {
    name: 'Gyardos',
    cardType: 'pkmn',
    type: 'water'
  },
  HS_5: {
    name: 'Hitmontop',
    cardType: 'pkmn'
  },
  HS_6: {
    name: 'Jumpluff',
    cardType: 'pkmn',
    type: 'grass'
  },
  HS_7: {
    name: 'Ninetales',
    cardType: 'pkmn',
    type: 'fire'
  },
  HS_8: {
    name: 'Noctowl',
    cardType: 'pkmn'
  },
  HS_9: {
    name: 'Quagsire',
    cardType: 'pkmn',
    type: 'water'
  },
  HS_10: {
    name: 'Raichu',
    cardType: 'pkmn',
    type: 'lightning'
  },
  HS_11: {
    name: 'Shuckle',
    cardType: 'pkmn'
  },
  HS_12: {
    name: 'Slowking',
    cardType: 'pkmn',
    type: 'psychic'
  },
  HS_13: {
    name: 'Wobbuffet',
    cardType: 'pkmn',
    type: 'psychic'
  },
  HS_14: {
    name: 'Ampharos',
    cardType: 'pkmn',
    type: 'lightning'
  },
  HS_15: {
    name: 'Ariados',
    cardType: 'pkmn',
    type: 'grass'
  },
  HS_16: {
    name: 'Butterfree',
    cardType: 'pkmn'
  },
  HS_17: {
    name: 'Cleffa',
    cardType: 'pkmn',
    type: 'colorless'
  },
  HS_18: {
    name: 'Exeggutor',
    cardType: 'pkmn'
  },
  HS_19: {
    name: "Farfetch'd",
    cardType: 'pkmn'
  },
  HS_20: {
    name: 'Feraligatr',
    cardType: 'pkmn',
    type: 'water'
  },
  HS_21: {
    name: 'Furret',
    cardType: 'pkmn'
  },
  HS_22: {
    name: 'Granbull',
    cardType: 'pkmn'
  },
  HS_23: {
    name: 'Hypno',
    cardType: 'pkmn',
    type: 'psychic'
  },
  HS_24: {
    name: 'Lapras',
    cardType: 'pkmn'
  },
  HS_25: {
    name: 'Ledian',
    type: 'grass'
  },
  HS_26: {
    name: 'Meganium',
    type: 'grass'
  },
  HS_27: {
    name: 'Persian',
    type: 'colorless'
  },
  HS_28: {
    name: 'Pichu',
    cardType: 'pkmn',
    type: 'lightning'
  },
  HS_29: {
    name: 'Sandslash'
  },
  HS_30: {
    name: 'Smoochum',
    type: 'psychic'
  },
  HS_31: {
    name: 'Sunflora',
    cardType: 'pkmn',
    type: 'grass'
  },
  HS_32: {
    name: 'Typhlosion',
    type: 'fire'
  },
  HS_33: {
    name: 'Tyrogue',
    cardType: 'pkmn',
    type: 'fighting'
  },
  HS_34: {
    name: 'Weezing'
  },
  HS_35: {
    name: 'Bayleef',
    cardType: 'pkmn',
    type: 'grass'
  },
  HS_36: {
    name: 'Blissey',
    type: 'colorless'
  },
  HS_37: {
    name: 'Corsola',
    type: 'water'
  },
  HS_38: {
    name: 'Croconaw',
    cardType: 'pkmn',
    type: 'water'
  },
  HS_39: {
    name: 'Delibird',
    type: 'water'
  },
  HS_40: {
    name: 'Donphan'
  },
  HS_41: {
    name: 'Dunsparce'
  },
  HS_42: {
    name: 'Flaafy',
    type: 'lightning'
  },
  HS_43: {
    name: 'Heracross'
  },
  HS_44: {
    name: 'Igglybuff'
  },
  HS_45: {
    name: 'Mantine',
    type: 'water'
  },
  HS_46: {
    name: 'Metapod'
  },
  HS_47: {
    name: 'Miltank',
    type: 'colorless'
  },
  HS_48: {
    name: 'Parasect',
    type: 'grass'
  },
  HS_49: {
    name: 'Quilava',
    cardType: 'pkmn',
    type: 'fire'
  },
  HS_58: {
    name: 'Chansey',
    cardType: 'pkmn',
    type: 'colorless'
  },
  HS_59: {
    name: 'Chikorita',
    cardType: 'pkmn',
    type: 'grass'
  },
  HS_61: {
    name: 'Cyndaquil',
    cardType: 'pkmn',
    type: 'fire'
  },
  HS_77: {
    name: 'Phanpy',
    cardType: 'pkmn',
    type: 'fighting'
  },
  HS_81: {
    name: 'Slowpoke',
    cardType: 'pkmn',
    type: 'water'
  },
  HS_85: {
    name: 'Sunkern',
    cardType: 'pkmn',
    type: 'grass'
  },
  HS_86: {
    name: 'Totodile',
    cardType: 'pkmn',
    type: 'water'
  },
  // TMAINERS/SPECIAL ENERGY
  HS_90: {
    name: 'Copycat',
    cardType: 'supporter'
  },
  HS_92: {
    name: 'Fisherman',
    cardType: 'supporter'
  },
  HS_96: {
    name: 'Pokegear',
    cardType: 'trainer'
  },
  HS_97: {
    name: 'Pokemon Collector',
    cardType: 'supporter'
  },
  HS_98: {
    name: 'Pokemon Communication',
    cardType: 'trainer'
  },
  HS_99: {
    name: 'Pokemon Reversal',
    cardType: 'trainer'
  },
  HS_100: {
    name: "Professor Elm's Training Method",
    cardType: 'supporter'
  },
  HS_101: {
    name: "Professor Oak's New Theory",
    cardType: 'supporter'
  },
  HS_102: {
    name: 'Switch',
    cardType: 'trainer'
  },
  HS_103: {
    name: 'Double Colorless Energy',
    cardType: 'sEnergy'
  },
  HS_104: {
    name: 'Rainbow Energy',
    cardType: 'sEnergy'
  },
  // PRIMES
  HS_106: {
    name: 'Blissey',
    cardType: 'pkmn',
    type: 'colorless'
  },
  HS_107: {
    name: 'Donphan',
    cardType: 'pkmn',
    type: 'fighting'
  },
  HS_108: {
    name: 'Feraligatr',
    cardType: 'pkmn',
    type: 'water'
  },
  HS_109: {
    name: 'Meganium',
    cardType: 'pkmn',
    type: 'grass'
  },
  HS_110: {
    name: 'Typhlosion',
    cardType: 'pkmn',
    type: 'fire'
  },
  //ENERGIES
  HS_115: {
    name: 'Grass Energy',
    cardType: 'bEnergy',
    type: 'grass'
  },
  HS_116: {
    name: 'Fire Energy',
    cardType: 'bEnergy',
    type: 'fire'
  },
  HS_117: {
    name: 'Water Energy',
    cardType: 'bEnergy',
    type: 'water'
  },
  HS_118: {
    name: 'Lightning Energy',
    cardType: 'bEnergy',
    type: 'lightning'
  },
  HS_119: {
    name: 'Psychic Energy',
    cardType: 'bEnergy',
    type: 'psychic'
  },
  HS_120: {
    name: 'Fighting Energy',
    cardType: 'bEnergy',
    type: 'fighting'
  },
  HS_121: {
    name: 'Darkness Energy',
    cardType: 'bEnergy',
    type: 'dark'
  },
  HS_122: {
    name: 'Metal Energy',
    cardType: 'bEnergy',
    type: 'metal'
  }
};
const UL$1 = {
  UL_1: {
    name: 'Jirachi',
    cardType: 'pkmn',
    type: 'psychic'
  },
  UL_8: {
    name: 'Shaymin',
    cardType: 'pkmn',
    type: 'grass'
  },
  UL_13: {
    name: 'Blastoise',
    cardType: 'pkmn',
    type: 'water'
  },
  UL_23: {
    name: 'Roserade',
    cardType: 'pkmn',
    type: 'grass'
  },
  UL_38: {
    name: 'Pupitar',
    cardType: 'pkmn',
    type: 'fighting'
  },
  UL_40: {
    name: 'Seadra',
    cardType: 'pkmn',
    type: 'water'
  },
  UL_42: {
    name: 'Wartortle',
    cardType: 'pkmn',
    type: 'water'
  },
  UL_43: {
    name: 'Aipom',
    cardType: 'pkmn',
    type: 'colorless'
  },
  UL_48: {
    name: 'Chinchou',
    cardType: 'pkmn',
    type: 'lightning'
  },
  UL_49: {
    name: 'Horsea',
    cardType: 'pkmn',
    type: 'water'
  },
  UL_51: {
    name: 'Larvitar',
    cardType: 'pkmn',
    type: 'fighting'
  },
  UL_61: {
    name: 'Roselia',
    cardType: 'pkmn',
    type: 'grass'
  },
  UL_63: {
    name: 'Squirtle',
    cardType: 'pkmn',
    type: 'water'
  },
  UL_68: {
    name: 'Vulpix',
    cardType: 'pkmn',
    type: 'fire'
  },
  UL_70: {
    name: 'Zubat',
    cardType: 'pkmn',
    type: 'psychic'
  },
  UL_72: {
    name: 'Dual Ball',
    cardType: 'trainer'
  },
  UL_77: {
    name: "Interviewer's Questions",
    cardType: 'supporter'
  },
  UL_78: {
    name: 'Judge',
    cardType: 'supporter'
  },
  UL_80: {
    name: 'PlusPower',
    cardType: 'trainer'
  },
  UL_82: {
    name: 'Rare Candy',
    cardType: 'trainer'
  },
  UL_83: {
    name: 'Super Scoop Up',
    cardType: 'trainer'
  },
  UL_84: {
    name: 'Crobat',
    cardType: 'pkmn',
    type: 'psychic'
  },
  UL_85: {
    name: 'Kingdra',
    cardType: 'pkmn',
    type: 'water'
  },
  UL_86: {
    name: 'Lanturn',
    cardType: 'pkmn',
    type: 'lightning'
  },
  UL_88: {
    name: 'Tyranitar',
    cardType: 'pkmn',
    type: 'dark'
  },
  UL_89: {
    name: 'Ursaring',
    cardType: 'pkmn',
    type: 'colorless'
  },
  UL_94: {
    name: 'Suicune & Entei Legend (top)',
    cardType: 'pkmn'
  },
  UL_95: {
    name: 'Suicune & Entei Legend (bottom)',
    cardType: 'pkmn'
  }
};
const UD$1 = {
  UD_1: {
    name: 'Bellossom',
    cardType: 'pkmn',
    type: 'grass'
  },
  UD_8: {
    name: 'Smeargle',
    cardType: 'pkmn',
    type: 'colorless'
  },
  UD_10: {
    name: 'Umbreon',
    cardType: 'pkmn',
    type: 'dark'
  },
  UD_17: {
    name: 'Leafeon',
    cardType: 'pkmn',
    type: 'grass'
  },
  UD_23: {
    name: 'Vespiquen',
    cardType: 'pkmn',
    type: 'grass'
  },
  UD_24: {
    name: 'Vileplume',
    cardType: 'pkmn',
    type: 'grass'
  },
  UD_25: {
    name: 'Weavile',
    cardType: 'pkmn',
    type: 'dark'
  },
  UD_27: {
    name: 'Gloom',
    cardType: 'pkmn',
    type: 'grass'
  },
  UD_31: {
    name: 'Muk',
    cardType: 'pkmn',
    type: 'psychic'
  },
  UD_44: {
    name: 'Combee',
    cardType: 'pkmn',
    type: 'grass'
  },
  UD_48: {
    name: 'Eevee',
    cardType: 'pkmn',
    type: 'colorless'
  },
  UD_54: {
    name: 'Houndour',
    cardType: 'pkmn',
    type: 'dark'
  },
  UD_60: {
    name: 'Oddish',
    cardType: 'pkmn',
    type: 'grass'
  },
  UD_66: {
    name: 'Slowpoke',
    cardType: 'pkmn',
    type: 'water'
  },
  UD_68: {
    name: 'Sneasel',
    cardType: 'pkmn',
    type: 'dark'
  },
  UD_71: {
    name: 'Burned Tower',
    cardType: 'stadium'
  },
  UD_73: {
    name: 'Energy Exchanger',
    cardType: 'trainer'
  },
  UD_74: {
    name: 'Flower Shop Lady',
    cardType: 'supporter'
  },
  UD_77: {
    name: "Sage's Training",
    cardType: 'supporter'
  },
  UD_79: {
    name: 'Darkness Energy',
    cardType: 'sEnergy'
  },
  UD_81: {
    name: 'Espeon',
    cardType: 'pkmn'
  },
  UD_82: {
    name: 'Houndoom',
    cardType: 'pkmn'
  },
  UD_89: {
    name: 'Rayquaza & Deoxys Legend (top)',
    cardType: 'pkmn'
  },
  UD_90: {
    name: 'Rayquaza & Deoxys Legend (bottom)',
    cardType: 'pkmn'
  }
};
const TM$1 = {
  TM_10: {
    name: 'Spiritomb',
    cardType: 'pkmn',
    type: 'psychic'
  },
  TM_11: {
    name: 'Venomoth',
    cardType: 'pkmn',
    type: 'grass'
  },
  TM_21: {
    name: 'Elekid',
    cardType: 'pkmn',
    type: 'lightning'
  },
  TM_27: {
    name: 'Magmortar',
    cardType: 'pkmn',
    type: 'fire'
  },
  TM_35: {
    name: 'Haunter',
    cardType: 'pkmn',
    type: 'psychic'
  },
  TM_40: {
    name: 'Machoke',
    cardType: 'pkmn',
    type: 'fighting'
  },
  TM_42: {
    name: 'Magmar',
    cardType: 'pkmn',
    type: 'fire'
  },
  TM_43: {
    name: 'Magneton',
    cardType: 'pkmn',
    type: 'lightning'
  },
  TM_63: {
    name: 'Gastly',
    cardType: 'pkmn',
    type: 'psychic'
  },
  TM_67: {
    name: 'Machop',
    cardType: 'pkmn',
    type: 'fighting'
  },
  TM_68: {
    name: 'Magnemite',
    cardType: 'pkmn',
    type: 'lightning'
  },
  TM_81: {
    name: 'Venonat',
    cardType: 'pkmn',
    type: 'grass'
  },
  TM_83: {
    name: 'Voltorb',
    cardType: 'pkmn',
    type: 'lightning'
  },
  TM_84: {
    name: 'Yanma',
    cardType: 'pkmn',
    type: 'grass'
  },
  TM_85: {
    name: 'Blackbelt',
    cardType: 'supporter'
  },
  TM_87: {
    name: 'Junk Arm',
    cardType: 'trainer'
  },
  TM_88: {
    name: 'Seeker',
    cardType: 'supporter'
  },
  TM_89: {
    name: 'Twins',
    cardType: 'supporter'
  },
  TM_90: {
    name: 'Rescue Energy',
    cardType: 'sEnergy'
  },
  TM_92: {
    name: 'Celebi',
    cardType: 'pkmn',
    type: 'grass'
  },
  TM_93: {
    name: 'Electrode',
    cardType: 'pkmn',
    type: 'lightning'
  },
  TM_94: {
    name: 'Gengar',
    cardType: 'pkmn',
    type: 'psychic'
  },
  TM_95: {
    name: 'Machamp',
    cardType: 'pkmn',
    type: 'fighting'
  },
  TM_96: {
    name: 'Magnezone',
    cardType: 'pkmn',
    type: 'lightning'
  },
  TM_97: {
    name: 'Mew',
    cardType: 'pkmn',
    type: 'psychic'
  },
  TM_98: {
    name: 'Yanmega',
    cardType: 'pkmn',
    type: 'grass'
  }
};
const CL$1 = {
  CL_18: {
    name: 'Pachirisu',
    cardType: 'pkmn',
    type: 'lightning'
  },
  CL_29: {
    name: 'Mr. Mime',
    cardType: 'pkmn',
    type: 'psychic'
  },
  CL_47: {
    name: 'Mime Jr.',
    cardType: 'pkmn',
    type: 'psychic'
  },
  CL_73: {
    name: 'Teddiursa',
    cardType: 'pkmn',
    type: 'colorless'
  },
  CL_80: {
    name: 'Lost Remover',
    cardType: 'trainer'
  },
  CL_81: {
    name: 'Lost World',
    cardType: 'stadium'
  },
  CL_84: {
    name: 'Research Record',
    cardType: 'trainer'
  }
};
const HGSS_CARDS = {
  HS: HS$1,
  UL: UL$1,
  UD: UD$1,
  TM: TM$1,
  CL: CL$1,
  HSP: {}
};

const GENGAR = {
  name: "Lost Gengar",
  mascots: ['gengar'],
  cards: {
    TM_63: 4,
    TM_35: 2,
    TM_94: 4,
    TM_10: 2,
    UD_60: 1,
    UD_24: 1,
    CL_47: 1,
    CL_29: 1,
    UD_8: 1,
    HS_17: 1,
    UL_1: 1,
    UL_8: 1,
    CL_81: 2,
    HS_97: 4,
    TM_89: 4,
    HS_101: 4,
    TM_88: 4,
    HS_98: 4,
    UL_82: 4,
    HS_119: 12,
    TM_90: 2
  }
};
const LANTURN = {
  name: "",
  mascots: ['lanturn'],
  cards: {
    UL_48: 4,
    UL_86: 4,
    HS_86: 3,
    HS_38: 1,
    HS_108: 3,
    HS_17: 2,
    UD_8: 1,
    UD_71: 1,
    HS_97: 4,
    HS_101: 4,
    HS_100: 3,
    HS_92: 2,
    UL_77: 2,
    HS_98: 4,
    UL_82: 3,
    HS_99: 2,
    HS_117: 11,
    HS_118: 4,
    HS_103: 2
  }
};
const BLASTOISE = {
  name: "",
  mascots: ['blastoise'],
  cards: {
    UL_63: 3,
    UL_42: 1,
    UL_13: 3,
    HS_86: 3,
    HS_38: 1,
    HS_108: 3,
    UL_94: 1,
    UL_95: 1,
    HS_17: 2,
    HS_97: 4,
    HS_101: 3,
    TM_89: 4,
    HS_98: 4,
    HS_96: 4,
    UL_82: 4,
    HS_102: 2,
    HS_99: 2,
    HS_103: 4,
    HS_117: 10
  }
};
const LEAFEON = {
  name: "",
  mascots: ['leafeon'],
  cards: {
    UD_48: 4,
    UD_17: 3,
    UD_81: 1,
    UL_61: 2,
    UL_23: 2,
    UD_54: 2,
    UD_82: 2,
    TM_81: 1,
    TM_11: 1,
    HS_17: 2,
    TM_92: 1,
    HS_97: 4,
    HS_101: 4,
    HS_100: 3,
    TM_89: 1,
    TM_88: 1,
    HS_98: 4,
    HS_99: 3,
    HS_96: 2,
    UD_73: 2,
    HS_115: 6,
    HS_119: 1,
    HS_104: 4,
    TM_90: 3,
    HS_103: 1
  }
};
const MAGMORTAR = {
  name: "",
  mascots: ['magmortar'],
  cards: {
    HS_61: 4,
    HS_49: 2,
    HS_110: 4,
    TM_42: 4,
    TM_27: 4,
    UL_68: 2,
    HS_7: 2,
    HS_28: 1,
    HS_17: 1,
    UD_71: 2,
    HS_97: 4,
    TM_89: 4,
    UD_77: 3,
    UD_74: 2,
    HS_98: 4,
    UL_82: 3,
    HS_116: 14
  }
};
const MAGNEZONE = {
  name: "",
  mascots: ['magnezone'],
  cards: {
    TM_68: 4,
    TM_43: 1,
    TM_96: 4,
    CL_18: 4,
    TM_83: 2,
    TM_93: 2,
    HS_17: 1,
    HS_97: 4,
    UL_78: 4,
    TM_89: 3,
    UL_82: 4,
    HS_98: 4,
    HS_118: 23
  }
};
const MACHAMP_DONPHAN = {
  name: "",
  mascots: ['machamp'],
  cards: {
    TM_67: 4,
    TM_40: 4,
    TM_95: 4,
    HS_77: 4,
    HS_107: 2,
    HS_97: 4,
    HS_101: 4,
    HS_100: 4,
    HS_90: 3,
    HS_98: 4,
    HS_99: 4,
    HS_96: 3,
    HS_120: 9,
    HS_103: 4,
    HS_104: 3
  }
};
const MEGANIUM = {
  name: "",
  mascots: ['meganium'],
  cards: {
    HS_59: 3,
    HS_35: 3,
    HS_109: 3,
    HS_58: 2,
    HS_106: 2,
    UL_61: 2,
    UL_23: 2,
    HS_17: 1,
    UD_8: 1,
    TM_92: 1,
    HS_97: 4,
    HS_101: 4,
    HS_100: 4,
    TM_89: 1,
    UD_74: 1,
    TM_88: 1,
    HS_98: 4,
    HS_96: 3,
    UL_80: 1,
    HS_102: 1,
    HS_120: 11,
    HS_104: 4,
    HS_103: 1
  }
};
const RAYQUAZA_DEOXYS = {
  name: "",
  mascots: ['rayquaza'],
  cards: {
    HS_61: 4,
    HS_49: 2,
    HS_110: 4,
    UL_68: 2,
    HS_7: 2,
    UD_89: 2,
    UD_90: 2,
    HS_17: 1,
    UD_71: 2,
    HS_97: 4,
    HS_100: 4,
    UD_77: 3,
    UD_74: 2,
    HS_98: 4,
    UL_82: 4,
    HS_116: 15,
    HS_118: 3
  }
};
const VILEPLUME_YANMEGA = {
  name: "",
  mascots: ['vileplume'],
  cards: {
    TM_84: 4,
    TM_98: 4,
    UD_60: 3,
    UD_27: 1,
    UD_24: 2,
    UD_1: 1,
    HS_85: 2,
    HS_31: 2,
    TM_97: 2,
    HS_17: 1,
    UL_43: 1,
    UD_31: 1,
    HS_97: 4,
    HS_90: 3,
    UL_78: 3,
    HS_101: 3,
    UD_77: 3,
    TM_89: 3,
    HS_98: 4,
    UL_82: 4,
    HS_119: 5,
    TM_90: 3,
    HS_104: 1
  }
};
const MAGNEZONE_YANMEGA = {
  name: "",
  mascots: ['yanmega'],
  cards: {
    TM_84: 4,
    TM_98: 4,
    TM_68: 3,
    TM_43: 1,
    TM_96: 3,
    UL_49: 1,
    UL_85: 1,
    HS_17: 1,
    HS_33: 1,
    HS_97: 4,
    HS_101: 4,
    UL_78: 3,
    UD_77: 3,
    UL_82: 4,
    HS_98: 4,
    TM_87: 3,
    HS_99: 2,
    HS_102: 1,
    HS_118: 11,
    HS_104: 2
  }
};
const WEAVILE$1 = {
  name: "",
  mascots: ['weavile'],
  cards: {
    TM_84: 4,
    TM_98: 4,
    UD_68: 4,
    UD_25: 4,
    UD_66: 2,
    HS_12: 2,
    HS_97: 4,
    UL_78: 4,
    HS_101: 4,
    HS_90: 3,
    HS_100: 3,
    HS_98: 4,
    UL_83: 4,
    TM_87: 3,
    CL_80: 2,
    HS_115: 5,
    TM_90: 3,
    HS_104: 1
  }
};
const TYRANITAR = {
  name: "",
  mascots: ['tyranitar'],
  cards: {
    UL_51: 4,
    UL_38: 2,
    UL_88: 4,
    TM_83: 3,
    TM_93: 2,
    HS_17: 2,
    HS_97: 4,
    TM_89: 4,
    HS_101: 3,
    HS_100: 1,
    UD_74: 1,
    UL_78: 1,
    TM_85: 1,
    UL_82: 4,
    HS_98: 4,
    HS_102: 2,
    TM_87: 2,
    CL_84: 1,
    UD_79: 4,
    HS_103: 4,
    HS_121: 7
  }
};
const URSARING_COMBEE = {
  name: "",
  mascots: ['combee'],
  cards: {
    UD_44: 4,
    UD_23: 3,
    TM_21: 3,
    CL_73: 2,
    UL_89: 2,
    UD_8: 1,
    HS_101: 4,
    UL_78: 3,
    HS_90: 2,
    UD_74: 2,
    UL_80: 4,
    UL_72: 4,
    HS_98: 4,
    TM_87: 4,
    UD_73: 3,
    HS_102: 2,
    HS_99: 1,
    HS_115: 5,
    HS_103: 3,
    HS_104: 4
  }
};
const UMBREON = {
  name: "",
  mascots: ['umbreon'],
  cards: {
    UD_48: 4,
    UD_10: 3,
    UL_49: 3,
    UL_40: 1,
    UL_85: 3,
    HS_17: 2,
    UL_70: 2,
    UL_84: 2,
    HS_33: 1,
    HS_101: 4,
    HS_97: 4,
    UD_77: 2,
    TM_89: 2,
    UD_74: 1,
    HS_90: 1,
    HS_98: 4,
    UL_82: 3,
    TM_87: 3,
    HS_102: 2,
    UD_73: 1,
    HS_104: 4,
    UD_79: 4,
    HS_117: 1,
    HS_119: 1,
    HS_121: 2
  }
};
const HGSS_DECKS = {
  GENGAR: GENGAR,
  LANTURN: LANTURN,
  BLASTOISE: BLASTOISE,
  LEAFEON: LEAFEON,
  MAGMORTAR: MAGMORTAR,
  MAGNEZONE: MAGNEZONE,
  MACHAMP_DONPHAN: MACHAMP_DONPHAN,
  MEGANIUM: MEGANIUM,
  RAYQUAZA_DEOXYS: RAYQUAZA_DEOXYS,
  VILEPLUME_YANMEGA: VILEPLUME_YANMEGA,
  MAGNEZONE_YANMEGA: MAGNEZONE_YANMEGA,
  WEAVILE: WEAVILE$1,
  TYRANITAR: TYRANITAR,
  URSARING_COMBEE: URSARING_COMBEE,
  UMBREON: UMBREON
};
const HGSS_RESTRICTED_MATCHUPS = [['BLASTOISE', 'LANTURN'], ['MAGNEZONE', 'MAGNEZONE_YANMEGA'], ['MAGNEZONE_YANMEGA', 'VILEPLUME_YANMEGA', 'WEAVILE'], ['MAGMORTAR', 'RAYQUAZA_DEOXYS']];

const HS = {
  HS_1: 0,
  HS_2: 0,
  HS_3: 0,
  HS_4: 0,
  HS_5: 0,
  HS_6: 0,
  HS_7: 2,
  HS_8: 0,
  HS_9: 0,
  HS_10: 0,
  HS_11: 0,
  HS_12: 2,
  HS_13: 0,
  HS_14: 0,
  HS_15: 0,
  HS_16: 0,
  HS_17: 4,
  HS_18: 0,
  HS_19: 0,
  HS_20: 1,
  HS_21: 0,
  HS_22: 0,
  HS_23: 0,
  HS_24: 0,
  HS_25: 0,
  HS_26: 0,
  HS_27: 0,
  HS_28: 1,
  HS_29: 0,
  HS_30: 0,
  HS_31: 2,
  HS_32: 0,
  HS_33: 2,
  HS_34: 0,
  HS_35: 2,
  HS_36: 0,
  HS_37: 0,
  HS_38: 1,
  HS_39: 0,
  HS_40: 0,
  HS_41: 0,
  HS_42: 0,
  HS_43: 0,
  HS_44: 0,
  HS_45: 0,
  HS_46: 0,
  HS_47: 0,
  HS_48: 0,
  HS_49: 2,
  HS_58: 2,
  HS_59: 2,
  HS_61: 4,
  HS_77: 4,
  HS_81: 0,
  HS_85: 2,
  HS_86: 3,
  HS_90: 6,
  HS_92: 2,
  HS_96: 3,
  HS_97: 8,
  HS_98: 8,
  HS_99: 4,
  HS_100: 8,
  HS_101: 8,
  HS_102: 4,
  HS_103: 2,
  HS_104: 1,
  HS_106: 1,
  HS_107: 0,
  HS_108: 3,
  HS_109: 2,
  HS_110: 2,
  HS_115: 0,
  HS_116: 0,
  HS_117: 0,
  HS_118: 0,
  HS_119: 0,
  HS_120: 0,
  HS_121: 0,
  HS_122: 0
};
const UL = {
  UL_1: 1,
  UL_8: 0,
  UL_13: 3,
  UL_23: 2,
  UL_38: 2,
  UL_40: 1,
  UL_42: 1,
  UL_43: 1,
  UL_48: 4,
  UL_49: 4,
  UL_50: 0,
  UL_51: 4,
  UL_61: 4,
  UL_63: 3,
  UL_68: 2,
  UL_69: 0,
  UL_70: 2,
  UL_72: 4,
  UL_77: 2,
  UL_78: 8,
  UL_79: 0,
  UL_80: 3,
  UL_82: 8,
  UL_83: 4,
  UL_84: 1,
  UL_85: 2,
  UL_86: 1,
  UL_88: 4,
  UL_89: 0,
  UL_94: 0,
  UL_95: 0
};
const UD = {
  UD_1: 1,
  UD_8: 1,
  UD_10: 3,
  UD_17: 3,
  UD_23: 2,
  UD_24: 2,
  UD_25: 1,
  UD_27: 1,
  UD_31: 1,
  UD_44: 3,
  UD_48: 8,
  UD_54: 2,
  UD_60: 4,
  UD_66: 2,
  UD_68: 4,
  UD_71: 3,
  UD_73: 5,
  UD_74: 4,
  UD_77: 6,
  UD_79: 6,
  UD_81: 0,
  UD_82: 1,
  UD_89: 0,
  UD_90: 0
};
const TM = {
  TM_10: 1,
  TM_11: 1,
  TM_21: 1,
  TM_27: 1,
  TM_35: 1,
  TM_40: 3,
  TM_42: 2,
  TM_43: 1,
  TM_63: 3,
  TM_67: 4,
  TM_68: 3,
  TM_81: 1,
  TM_83: 5,
  TM_84: 4,
  TM_85: 1,
  TM_87: 1,
  TM_88: 1,
  TM_89: 2,
  TM_90: 1,
  TM_92: 1,
  TM_93: 1,
  TM_94: 1,
  TM_95: 1,
  TM_96: 1,
  TM_97: 1,
  TM_98: 1
};
const CL = {
  CL_18: 1,
  CL_29: 0,
  CL_47: 1,
  CL_73: 1,
  CL_80: 2,
  CL_81: 0,
  CL_84: 0
};
const HGSS_OWNED = {
  HS: HS,
  UL: UL,
  UD: UD,
  TM: TM,
  CL: CL,
  HSP: {}
};

const BLW$1 = {
  BLW_1: {
    name: 'Snivy',
    cardType: 'pkmn',
    type: 'grass'
  },
  BLW_76: {
    name: 'Klinklang',
    cardType: 'pkmn',
    type: 'metal'
  },
  BLW_81: {
    name: 'Lillipup',
    cardType: 'pkmn',
    type: 'colorless'
  },
  BLW_82: {
    name: 'Herdier',
    cardType: 'pkmn',
    type: 'colorless'
  },
  BLW_92: {
    name: 'Energy Retrieval',
    cardType: 'item'
  },
  BLW_93: {
    name: 'Energy Search',
    cardType: 'item'
  },
  BLW_94: {
    name: 'Energy Switch',
    cardType: 'item'
  },
  BLW_96: {
    name: 'PlusPower',
    cardType: 'item'
  },
  BLW_99: {
    name: 'Pokemon Communication',
    cardType: 'item'
  },
  BLW_101: {
    name: 'Professor Juniper',
    cardType: 'supporter'
  },
  BLW_104: {
    name: 'Switch',
    cardType: 'item'
  },
  BLW_105: {
    name: 'Grass Energy',
    cardType: 'bEnergy',
    type: 'grass'
  },
  BLW_106: {
    name: 'Fire Energy',
    cardType: 'bEnergy',
    type: 'fire'
  },
  BLW_107: {
    name: 'Water Energy',
    cardType: 'bEnergy',
    type: 'water'
  },
  BLW_108: {
    name: 'Lightning Energy',
    cardType: 'bEnergy',
    type: 'lightning'
  },
  BLW_109: {
    name: 'Psychic Energy',
    cardType: 'bEnergy',
    type: 'psychic'
  },
  BLW_110: {
    name: 'Fighting Energy',
    cardType: 'bEnergy',
    type: 'fighting'
  },
  BLW_111: {
    name: 'Darkness Energy',
    cardType: 'bEnergy',
    type: 'dark'
  },
  BLW_112: {
    name: 'Metal Energy',
    cardType: 'bEnergy',
    type: 'metal'
  }
};
const EPO$1 = {
  EPO_43: {
    name: 'Gothita',
    cardType: 'pkmn',
    type: 'psychic'
  },
  EPO_45: {
    name: 'Gothorita',
    cardType: 'pkmn',
    type: 'psychic'
  },
  EPO_47: {
    name: 'Gothitelle',
    cardType: 'pkmn',
    type: 'psychic'
  },
  EPO_90: {
    name: 'Bianca',
    cardType: 'supporter'
  },
  EPO_92: {
    name: 'Crushing Hammer',
    cardType: 'item'
  },
  EPO_94: {
    name: 'Max Potion',
    cardType: 'item'
  },
  EPO_95: {
    name: 'Pokemon Catcher',
    cardType: 'item'
  },
  EPO_96: {
    name: 'Recycle',
    cardType: 'item'
  }
};
const NVI$1 = {
  NVI_22: {
    name: 'Tympole',
    cardType: 'pkmn',
    type: 'water'
  },
  NVI_23: {
    name: 'Palpitoad',
    cardType: 'pkmn',
    type: 'water'
  },
  NVI_24: {
    name: 'Seismitoad',
    cardType: 'pkmn',
    type: 'water'
  },
  NVI_35: {
    name: 'Blitzle',
    cardType: 'pkmn',
    type: 'lightning'
  },
  NVI_38: {
    name: 'Tynamo',
    cardType: 'pkmn',
    type: 'lightning'
  },
  NVI_40: {
    name: 'Eelektrik',
    cardType: 'pkmn',
    type: 'lightning'
  },
  NVI_48: {
    name: 'Trubbish',
    cardType: 'pkmn',
    type: 'psychic'
  },
  NVI_91: {
    name: 'Eviolite',
    cardType: 'tool'
  },
  NVI_92: {
    name: 'N',
    cardType: 'supporter'
  },
  NVI_95: {
    name: 'Super Rod',
    cardType: 'item'
  }
};
const NXD$1 = {
  NXD_48: {
    name: 'Zebstrika',
    cardType: 'pkmn',
    type: 'lightning'
  },
  NXD_54: {
    name: 'Mewtwo EX',
    cardType: 'pkmn',
    type: 'psychic'
  },
  NXD_59: {
    name: 'Musharna',
    cardType: 'pkmn',
    type: 'psychic'
  },
  NXD_69: {
    name: 'Sneasel',
    cardType: 'pkmn',
    type: 'dark'
  },
  NXD_87: {
    name: 'Exp. Share',
    cardType: 'tool'
  },
  NXD_88: {
    name: 'Heavy Ball',
    cardType: 'item'
  },
  NXD_89: {
    name: 'Level Ball',
    cardType: 'item'
  },
  NXD_91: {
    name: 'Skyarrow Bridge',
    cardType: 'stadium'
  },
  NXD_92: {
    name: 'Double Colorless Energy',
    cardType: 'sEnergy'
  },
  NXD_93: {
    name: 'Prism Energy',
    cardType: 'sEnergy'
  }
};
const DEX$1 = {
  DEX_11: {
    name: 'Accelgor',
    cardType: 'pkmn',
    type: 'grass'
  },
  DEX_27: {
    name: 'Piplup',
    cardType: 'pkmn',
    type: 'water'
  },
  DEX_28: {
    name: 'Prinplup',
    cardType: 'pkmn',
    type: 'water'
  },
  DEX_29: {
    name: 'Empoleon',
    cardType: 'pkmn',
    type: 'water'
  },
  DEX_38: {
    name: 'Raikou EX',
    cardType: 'pkmn',
    type: 'lightning'
  },
  DEX_51: {
    name: 'Yamask',
    cardType: 'pkmn',
    type: 'psychic'
  },
  DEX_62: {
    name: 'Sableye',
    cardType: 'pkmn',
    type: 'dark'
  },
  DEX_63: {
    name: 'Darkrai EX',
    cardType: 'pkmn',
    type: 'dark'
  },
  DEX_75: {
    name: 'Klink',
    cardType: 'pkmn',
    type: 'metal'
  },
  DEX_76: {
    name: 'Klang',
    cardType: 'pkmn',
    type: 'metal'
  },
  DEX_92: {
    name: 'Dark Claw',
    cardType: 'item'
  },
  DEX_93: {
    name: 'Dark Patch',
    cardType: 'item'
  },
  DEX_94: {
    name: 'Enhanced Hammer',
    cardType: 'item'
  },
  DEX_96: {
    name: 'N',
    cardType: 'supporter'
  },
  DEX_98: {
    name: 'Professor Juniper',
    cardType: 'supporter'
  },
  DEX_99: {
    name: 'Random Receiver',
    cardType: 'item'
  },
  DEX_100: {
    name: 'Rare Candy',
    cardType: 'item'
  },
  DEX_102: {
    name: 'Ultra Ball',
    cardType: 'item'
  }
};
const DRX$1 = {
  DRX_46: {
    name: 'Mew EX',
    cardType: 'pkmn',
    type: 'psychic'
  },
  DRX_50: {
    name: 'Drifloon',
    cardType: 'pkmn',
    type: 'psychic'
  },
  DRX_51: {
    name: 'Drifblim',
    cardType: 'pkmn',
    type: 'psychic'
  },
  DRX_53: {
    name: 'Trubbish',
    cardType: 'pkmn',
    type: 'psychic'
  },
  DRX_54: {
    name: 'Garbodor',
    cardType: 'pkmn',
    type: 'psychic'
  },
  DRX_71: {
    name: 'Terrakion EX',
    cardType: 'pkmn',
    type: 'fighting'
  },
  DRX_81: {
    name: 'Registeel EX',
    cardType: 'pkmn',
    type: 'metal'
  },
  DRX_84: {
    name: 'Altaria',
    cardType: 'pkmn',
    type: 'dragon'
  },
  DRX_85: {
    name: 'Rayquaza EX',
    cardType: 'pkmn',
    type: 'dragon'
  },
  DRX_86: {
    name: 'Gible',
    cardType: 'pkmn',
    type: 'dragon'
  },
  DRX_89: {
    name: 'Gabite',
    cardType: 'pkmn',
    type: 'dragon'
  },
  DRX_90: {
    name: 'Garchomp',
    cardType: 'pkmn',
    type: 'dragon'
  },
  DRX_104: {
    name: 'Swablu',
    cardType: 'pkmn',
    type: 'colorless'
  },
  DRX_110: {
    name: 'Bouffalant',
    cardType: 'pkmn',
    type: 'colorless'
  },
  DRX_114: {
    name: 'Giant Cape',
    cardType: 'item'
  },
  DRX_115: {
    name: 'Rescue Scarf',
    cardType: 'tool'
  },
  DRX_116: {
    name: 'Tool Scrapper',
    cardType: 'item'
  },
  DRX_118: {
    name: 'Blend Energy WLFM',
    cardType: 'sEnergy'
  },
  DRX_128: {
    name: 'Rayquaza',
    cardType: 'pkmn',
    type: 'dragon'
  }
};
const DRV$1 = {};
const BCR$1 = {
  BCR_29: {
    name: 'Squirtle',
    cardType: 'pkmn',
    type: 'water'
  },
  BCR_31: {
    name: 'Blastoise',
    cardType: 'pkmn',
    type: 'water'
  },
  BCR_49: {
    name: 'Keldeo EX',
    cardType: 'pkmn',
    type: 'water'
  },
  BCR_51: {
    name: 'Voltorb',
    cardType: 'pkmn',
    type: 'lightning'
  },
  BCR_61: {
    name: 'Duskull',
    cardType: 'pkmn',
    type: 'psychic'
  },
  BCR_62: {
    name: 'Dusclops',
    cardType: 'pkmn',
    type: 'psychic'
  },
  BCR_63: {
    name: 'Dusknoir',
    cardType: 'pkmn',
    type: 'psychic'
  },
  BCR_68: {
    name: 'Munna',
    cardType: 'pkmn',
    type: 'psychic'
  },
  BCR_83: {
    name: 'Trapinch',
    cardType: 'pkmn',
    type: 'fighting'
  },
  BCR_89: {
    name: 'Landorus EX',
    cardType: 'pkmn',
    type: 'fighting'
  },
  BCR_98: {
    name: 'Vibrava',
    cardType: 'pkmn',
    type: 'dragon'
  },
  BCR_99: {
    name: 'Flygon',
    cardType: 'pkmn',
    type: 'dragon'
  },
  BCR_100: {
    name: 'Black Kyurem',
    cardType: 'pkmn',
    type: 'dragon'
  },
  BCR_108: {
    name: 'Ditto',
    cardType: 'pkmn',
    type: 'colorless'
  },
  BCR_122: {
    name: 'Stoutland',
    cardType: 'pkmn',
    type: 'colorless'
  },
  BCR_126: {
    name: 'Audino',
    cardType: 'pkmn',
    type: 'colorless'
  },
  BCR_127: {
    name: 'Aspertia City Gym',
    cardType: 'item'
  },
  BCR_128: {
    name: 'Energy Search',
    cardType: 'item'
  },
  BCR_134: {
    name: 'Skyla',
    cardType: 'supporter'
  },
  BCR_135: {
    name: 'Switch',
    cardType: 'item'
  },
  BCR_136: {
    name: 'Town Map',
    cardType: 'item'
  },
  BCR_137: {
    name: 'Computer Search',
    cardType: 'item'
  },
  BCR_140: {
    name: 'Gold Potion',
    cardType: 'item'
  }
};
const PLS$1 = {
  PLS_65: {
    name: 'Trubbish',
    cardType: 'pkmn',
    type: 'psychic'
  },
  PLS_90: {
    name: 'Klinklang',
    cardType: 'pkmn',
    type: 'metal'
  },
  PLS_93: {
    name: 'Cobalion EX',
    cardType: 'pkmn',
    type: 'metal'
  },
  PLS_95: {
    name: 'Black Kyurem EX',
    cardType: 'pkmn',
    type: 'dragon'
  },
  PLS_108: {
    name: 'Lugia EX',
    cardType: 'pkmn',
    type: 'colorless'
  },
  PLS_117: {
    name: 'Bicycle',
    cardType: 'item'
  },
  PLS_118: {
    name: 'Colress',
    cardType: 'supporter'
  },
  PLS_119: {
    name: 'Colress Machine',
    cardType: 'item'
  },
  PLS_120: {
    name: 'Escape Rope',
    cardType: 'item'
  },
  PLS_121: {
    name: 'Ether',
    cardType: 'item'
  },
  PLS_122: {
    name: 'Eviolite',
    cardType: 'item'
  },
  PLS_123: {
    name: 'Hypnotoxic Laser',
    cardType: 'item'
  },
  PLS_126: {
    name: 'Virbank City Gym',
    cardType: 'stadium'
  },
  PLS_127: {
    name: 'Plasma Energy',
    cardType: 'sEnergy'
  },
  PLS_128: {
    name: 'Dowsing Machine',
    cardType: 'item'
  },
  PLS_130: {
    name: 'Victory Piece',
    cardType: 'item'
  }
};
const PLF$1 = {
  PLF_4: {
    name: 'Exeggcute',
    cardType: 'pkmn',
    type: 'grass'
  },
  PLF_12: {
    name: 'Flareon',
    cardType: 'pkmn',
    type: 'fire'
  },
  PLF_31: {
    name: 'Kyurem',
    cardType: 'pkmn',
    type: 'water'
  },
  PLF_33: {
    name: 'Electrode',
    cardType: 'pkmn',
    type: 'lightning'
  },
  PLF_38: {
    name: 'Thundurus EX',
    cardType: 'pkmn',
    type: 'lightning'
  },
  PLF_47: {
    name: 'Mr. Mime',
    cardType: 'pkmn',
    type: 'psychic'
  },
  PLF_53: {
    name: 'Deoxys EX',
    cardType: 'pkmn',
    type: 'psychic'
  },
  PLF_56: {
    name: 'Cofagrigus',
    cardType: 'pkmn',
    type: 'psychic'
  },
  PLF_65: {
    name: 'Sneasel',
    cardType: 'pkmn',
    type: 'dark'
  },
  PLF_66: {
    name: 'Weavile',
    cardType: 'pkmn',
    type: 'dark'
  },
  PLF_67: {
    name: 'Absol',
    cardType: 'pkmn',
    type: 'dark'
  },
  PLF_89: {
    name: 'Eevee',
    cardType: 'pkmn',
    type: 'colorless'
  },
  PLF_99: {
    name: 'Float Stone',
    cardType: 'tool'
  },
  PLF_100: {
    name: 'Frozen City',
    cardType: 'stadium'
  },
  PLF_101: {
    name: 'Ghetsis',
    cardType: 'supporter'
  },
  PLF_102: {
    name: 'Shadow Triad',
    cardType: 'supporter'
  },
  PLF_103: {
    name: 'Superior Energy Retrieval',
    cardType: 'item'
  },
  PLF_105: {
    name: 'Plasma Ball',
    cardType: 'item'
  },
  PLF_107: {
    name: 'Life Dew',
    cardType: 'tool'
  },
  PLF_108: {
    name: 'Rock Guard',
    cardType: 'tool'
  }
};
const PLB$1 = {
  PLB_1: {
    name: 'Surskit',
    cardType: 'pkmn',
    type: 'grass'
  },
  PLB_2: {
    name: 'Masquerain',
    cardType: 'pkmn',
    type: 'grass'
  },
  PLB_7: {
    name: 'Shelmet',
    cardType: 'pkmn',
    type: 'grass'
  },
  PLB_9: {
    name: 'Virizion EX',
    cardType: 'pkmn',
    type: 'grass'
  },
  PLB_11: {
    name: 'Genesect EX',
    cardType: 'pkmn',
    type: 'grass'
  },
  PLB_41: {
    name: 'Sigilyph',
    cardType: 'pkmn',
    type: 'psychic'
  },
  PLB_52: {
    name: 'Sawk',
    cardType: 'pkmn',
    type: 'fighting'
  },
  PLB_60: {
    name: 'Jirachi EX',
    cardType: 'pkmn',
    type: 'metal'
  },
  PLB_66: {
    name: 'Palkia EX',
    cardType: 'pkmn',
    type: 'dragon'
  },
  PLB_81: {
    name: 'Iris',
    cardType: 'supporter'
  },
  PLB_86: {
    name: 'Reversal Trigger',
    cardType: 'tool'
  },
  PLB_88: {
    name: 'Silver Bangle',
    cardType: 'tool'
  },
  PLB_89: {
    name: 'Silver Mirror',
    cardType: 'tool'
  },
  PLB_92: {
    name: 'G Booster',
    cardType: 'item'
  },
  PLB_94: {
    name: 'Master Ball',
    cardType: 'item'
  },
  PLB_95: {
    name: 'Scoop Up Cyclone',
    cardType: 'item'
  }
};
const LTR$1 = {
  LTR_24: {
    name: 'Victini EX',
    cardType: 'pkmn',
    type: 'fire'
  },
  LTR_67: {
    name: 'Trubbish',
    cardType: 'pkmn',
    type: 'psychic'
  },
  LTR_68: {
    name: 'Garbodor',
    cardType: 'pkmn',
    type: 'psychic'
  }
};
const RC$1 = {
  RC_11: {
    name: 'Meloetta EX',
    cardType: 'pkmn',
    type: 'psychic'
  },
  RC_20: {
    name: 'Elesa',
    cardType: 'supporter'
  }
};
const BWP$1 = {
  BWP_28: {
    name: 'Tropical Beach',
    cardType: 'stadium'
  }
};
const BW_CARDS = {
  BLW: BLW$1,
  EPO: EPO$1,
  NVI: NVI$1,
  NXD: NXD$1,
  DEX: DEX$1,
  DRX: DRX$1,
  DRV: DRV$1,
  BCR: BCR$1,
  PLS: PLS$1,
  PLF: PLF$1,
  PLB: PLB$1,
  LTR: LTR$1,
  RC: RC$1,
  BWP: BWP$1
};

const KELDEO = {
  name: 'Blastoise Keldeo',
  mascots: ['keldeo'],
  cards: {
    BCR_29: 3,
    BCR_31: 3,
    BCR_49: 3,
    PLS_95: 2,
    BCR_100: 1,
    PLF_4: 1,
    PLB_60: 1,
    BCR_137: 1,
    BWP_28: 4,
    BCR_134: 3,
    DEX_96: 3,
    BLW_101: 2,
    PLS_118: 1,
    DEX_100: 4,
    PLF_103: 4,
    DEX_102: 3,
    NXD_89: 2,
    EPO_95: 2,
    DRX_116: 2,
    NXD_88: 1,
    BLW_93: 1,
    BLW_107: 10,
    BLW_108: 3
  }
};
const DARKRAI = {
  name: 'Darkrai',
  mascots: ['darkrai'],
  cards: {
    DEX_63: 4,
    DEX_62: 3,
    BCR_49: 1,
    PLB_60: 1,
    PLF_47: 1,
    BCR_137: 1,
    PLS_126: 3,
    BLW_101: 4,
    DEX_96: 4,
    DEX_102: 4,
    DEX_93: 4,
    PLS_123: 4,
    EPO_95: 4,
    BLW_94: 3,
    DEX_92: 2,
    DEX_99: 2,
    DEX_94: 2,
    PLS_117: 1,
    DRX_116: 1,
    BLW_93: 1,
    BLW_111: 10
  }
};
const EMPOLEON = {
  name: 'Empoleon',
  mascots: ['empoleon'],
  cards: {
    DEX_27: 4,
    DEX_28: 2,
    DEX_29: 4,
    BCR_61: 2,
    BCR_63: 1,
    PLB_52: 1,
    PLF_47: 1,
    PLF_4: 1,
    BCR_49: 1,
    PLB_60: 1,
    PLS_128: 1,
    BWP_28: 3,
    BCR_134: 4,
    DEX_96: 4,
    PLS_118: 2,
    DEX_100: 4,
    DEX_102: 4,
    NXD_89: 2,
    PLF_99: 2,
    EPO_95: 1,
    EPO_96: 1,
    EPO_94: 1,
    PLB_88: 1,
    PLB_89: 1,
    PLS_123: 1,
    DRX_116: 1,
    BCR_136: 1,
    NVI_95: 1,
    BLW_107: 7
  }
};
const FLAREON = {
  name: 'Flareon',
  mascots: ['flareon'],
  cards: {
    PLF_89: 4,
    PLF_12: 4,
    DEX_51: 4,
    PLF_56: 4,
    PLB_60: 4,
    BCR_108: 4,
    BCR_126: 2,
    PLF_4: 1,
    BCR_137: 1,
    DEX_96: 4,
    BLW_101: 4,
    DEX_102: 4,
    PLF_105: 4,
    NXD_89: 4,
    PLB_88: 3,
    EPO_95: 2,
    PLB_89: 1,
    PLF_99: 1,
    DRX_116: 1,
    NXD_92: 4
  }
};
const FLYGON = {
  name: 'Flygon',
  mascots: ['flygon'],
  cards: {
    BCR_83: 4,
    BCR_98: 1,
    BCR_99: 4,
    PLB_7: 3,
    DEX_11: 2,
    DRX_46: 2,
    BCR_61: 1,
    BCR_63: 1,
    BCR_68: 1,
    NXD_59: 1,
    BCR_49: 1,
    BCR_137: 1,
    BWP_28: 4,
    DEX_96: 4,
    BCR_134: 4,
    BLW_101: 2,
    PLS_118: 2,
    DEX_100: 4,
    DEX_102: 3,
    PLF_99: 3,
    EPO_95: 2,
    BLW_99: 1,
    PLB_88: 1,
    DRX_116: 1,
    NXD_92: 4
  }
};
const GARCHOMP = {
  name: 'Garchomp',
  mascots: ['garchomp'],
  cards: {
    DRX_86: 4,
    DRX_89: 3,
    DRX_90: 4,
    DRX_104: 4,
    DRX_84: 4,
    PLB_95: 1,
    BWP_28: 2,
    DEX_96: 4,
    BCR_134: 3,
    PLS_118: 3,
    BLW_101: 2,
    NXD_89: 4,
    EPO_95: 2,
    NVI_95: 2,
    PLB_88: 2,
    DEX_100: 2,
    BCR_135: 1,
    DRX_116: 1,
    BLW_110: 7,
    BLW_107: 2,
    DRX_118: 3
  }
};
const GOTHITELLE = {
  name: 'Gothitelle',
  mascots: ['gothitelle'],
  cards: {
    EPO_43: 4,
    EPO_45: 1,
    EPO_47: 4,
    PLB_7: 3,
    DEX_11: 2,
    DRX_46: 2,
    BCR_61: 1,
    BCR_63: 1,
    BCR_68: 1,
    NXD_59: 1,
    BCR_49: 1,
    BCR_137: 1,
    BWP_28: 4,
    DEX_96: 4,
    BCR_134: 3,
    BLW_101: 3,
    PLS_118: 2,
    DEX_100: 4,
    DEX_102: 4,
    PLF_99: 3,
    NXD_89: 2,
    EPO_95: 2,
    PLB_89: 1,
    DRX_116: 1,
    BCR_136: 1,
    NXD_92: 4
  }
};
const KLINKLANG = {
  name: 'Klinklang',
  mascots: ['klinklang'],
  cards: {
    DEX_75: 4,
    DEX_76: 2,
    BLW_76: 2,
    PLS_90: 2,
    DEX_63: 2,
    PLS_93: 1,
    DRX_81: 1,
    PLB_60: 1,
    BCR_49: 1,
    DEX_62: 1,
    BCR_137: 1,
    BWP_28: 3,
    BCR_134: 4,
    DEX_96: 4,
    BLW_101: 2,
    PLS_118: 2,
    DEX_102: 4,
    DEX_100: 3,
    EPO_95: 2,
    NXD_88: 2,
    EPO_94: 2,
    DRX_116: 1,
    NVI_95: 1,
    BLW_112: 8,
    NXD_93: 4
  }
};
const LANDORUS = {
  name: '',
  mascots: ['landorus-t'],
  cards: {
    BCR_89: 4,
    NXD_54: 2,
    DRX_110: 1,
    DRX_53: 2,
    DRX_54: 2,
    PLB_60: 1,
    BCR_140: 1,
    PLS_126: 3,
    BLW_101: 4,
    DEX_96: 4,
    BCR_134: 4,
    PLS_123: 4,
    EPO_95: 4,
    DEX_102: 4,
    PLF_99: 3,
    DRX_114: 2,
    DRX_116: 1,
    BLW_96: 1,
    EPO_94: 1,
    BLW_110: 8,
    NXD_92: 4
  }
};
const LUGIA = {
  name: '',
  mascots: ['lugia'],
  cards: {
    PLF_53: 4,
    PLF_38: 3,
    PLS_108: 2,
    PLF_67: 1,
    BCR_137: 1,
    PLF_100: 2,
    BLW_101: 4,
    EPO_90: 3,
    PLS_118: 2,
    PLB_81: 1,
    PLF_102: 1,
    DEX_102: 4,
    PLS_119: 4,
    EPO_95: 4,
    BCR_135: 3,
    PLF_105: 2,
    PLB_86: 2,
    PLS_117: 2,
    PLS_120: 1,
    DRX_116: 1,
    BLW_96: 1,
    BLW_108: 1,
    NXD_93: 4,
    PLS_127: 4,
    NXD_92: 3
  }
};
const PLASMA = {
  name: '',
  mascots: ['kyurem'],
  cards: {
    PLF_53: 4,
    PLF_31: 3,
    PLF_38: 2,
    PLF_67: 1,
    PLS_108: 1,
    BCR_49: 1,
    BCR_137: 1,
    PLS_126: 2,
    BLW_101: 4,
    DEX_96: 4,
    PLS_118: 3,
    BCR_134: 1,
    PLS_123: 4,
    EPO_95: 4,
    DEX_102: 3,
    PLF_99: 3,
    PLS_119: 3,
    PLF_105: 1,
    DRX_116: 1,
    EPO_94: 1,
    BLW_108: 2,
    BLW_107: 2,
    NXD_93: 4,
    PLS_127: 4,
    NXD_92: 1
  }
};
const RAYQUAZA = {
  name: '',
  mascots: ['rayquaza'],
  cards: {
    NVI_38: 4,
    NVI_40: 4,
    DRX_85: 3,
    BCR_49: 2,
    DEX_38: 1,
    DRX_128: 1,
    PLS_128: 1,
    BWP_28: 3,
    DEX_96: 4,
    BLW_101: 3,
    BCR_134: 2,
    PLS_118: 2,
    DEX_102: 4,
    NXD_89: 3,
    PLF_99: 3,
    EPO_95: 3,
    DRX_116: 1,
    EPO_94: 1,
    NVI_95: 1,
    BLW_108: 10,
    BLW_106: 4
  }
};
const ROUND = {
  name: '',
  mascots: ['meloetta'],
  cards: {
    NVI_22: 4,
    NVI_23: 2,
    NVI_24: 4,
    RC_11: 4,
    PLB_94: 1,
    BWP_28: 4,
    DEX_96: 4,
    PLS_118: 4,
    BCR_134: 3,
    BLW_101: 2,
    DEX_102: 4,
    DEX_100: 4,
    EPO_95: 3,
    PLB_88: 3,
    NXD_89: 3,
    BCR_135: 2,
    NVI_95: 2,
    BLW_107: 3,
    NXD_92: 4
  }
};
const SABLEYE = {
  name: '',
  mascots: ['sableye'],
  cards: {
    DEX_62: 4,
    NVI_48: 3,
    DRX_54: 2,
    PLF_107: 1,
    DEX_96: 4,
    BLW_101: 4,
    BCR_134: 4,
    EPO_92: 4,
    NXD_89: 4,
    PLF_99: 3,
    DEX_99: 3,
    EPO_95: 3,
    DEX_102: 2,
    DEX_94: 2,
    NVI_95: 2,
    EPO_96: 2,
    PLS_123: 1,
    PLS_117: 1,
    PLB_89: 1,
    DRX_115: 1,
    DRX_116: 1,
    BLW_93: 1,
    BLW_92: 1,
    BLW_111: 6
  }
};
const STOUTLAND = {
  name: '',
  mascots: ['stoutland'],
  cards: {
    BLW_81: 4,
    BLW_82: 1,
    BCR_122: 4,
    PLB_66: 2,
    PLF_53: 1,
    BCR_49: 1,
    PLB_60: 1,
    BCR_137: 1,
    BWP_28: 3,
    BCR_127: 2,
    PLF_101: 4,
    BCR_134: 3,
    BLW_101: 2,
    DEX_96: 2,
    DEX_100: 4,
    DEX_102: 3,
    EPO_95: 3,
    PLF_99: 3,
    EPO_94: 2,
    NXD_89: 1,
    NXD_88: 1,
    PLF_105: 1,
    DRX_116: 1,
    NVI_95: 1,
    PLB_89: 1,
    DEX_94: 1,
    BLW_105: 2,
    BLW_107: 1,
    NXD_92: 4
  }
};
const TOOL_DROP = {
  name: '',
  mascots: ['sigilyph'],
  cards: {
    PLS_65: 4,
    PLB_41: 4,
    BCR_51: 1,
    PLF_33: 1,
    PLB_1: 1,
    PLB_2: 1,
    PLS_128: 1,
    BLW_101: 4,
    DEX_96: 4,
    PLS_118: 2,
    RC_20: 1,
    NXD_89: 4,
    EPO_95: 4,
    PLF_99: 4,
    NXD_87: 4,
    PLB_88: 3,
    NVI_91: 3,
    PLB_89: 2,
    NVI_95: 2,
    BLW_109: 10
  }
};
const VICTINI = {
  name: '',
  mascots: ['victini'],
  cards: {
    LTR_24: 3,
    DRX_71: 3,
    DRX_50: 2,
    DRX_51: 2,
    DRX_53: 2,
    DRX_54: 2,
    PLB_60: 1,
    PLS_130: 1,
    BLW_101: 4,
    DEX_96: 4,
    BCR_134: 2,
    PLS_118: 2,
    PLF_99: 4,
    EPO_95: 4,
    DEX_102: 4,
    DEX_94: 2,
    DRX_116: 1,
    BLW_92: 1,
    BLW_110: 9,
    BLW_106: 7
  }
};
const GENESECT = {
  name: '',
  mascots: ['genesect'],
  cards: {
    PLB_9: 4,
    PLB_11: 3,
    DRX_50: 1,
    DRX_51: 1,
    PLB_60: 1,
    PLB_92: 1,
    NXD_91: 3,
    BLW_101: 4,
    DEX_96: 4,
    BCR_134: 3,
    PLF_102: 2,
    PLS_118: 1,
    DEX_102: 4,
    BLW_94: 3,
    DEX_94: 2,
    DRX_116: 2,
    EPO_95: 2,
    PLF_105: 1,
    BCR_136: 1,
    NVI_95: 1,
    PLS_119: 1,
    PLS_123: 1,
    BLW_105: 10,
    PLS_127: 4
  }
};
const WEAVILE = {
  name: '',
  mascots: ['weavile'],
  cards: {
    PLF_65: 3,
    NXD_69: 1,
    PLF_66: 4,
    PLF_4: 4,
    DEX_62: 4,
    PLB_60: 2,
    DEX_63: 1,
    BCR_126: 1,
    PLS_128: 1,
    BLW_101: 4,
    DEX_96: 4,
    PLF_101: 1,
    DEX_102: 4,
    NXD_89: 3,
    EPO_95: 3,
    DEX_93: 3,
    DEX_99: 2,
    DEX_94: 1,
    PLB_88: 1,
    PLB_89: 1,
    DRX_116: 1,
    NVI_95: 1,
    BLW_111: 10
  }
};
const ZEBSTRIKA = {
  name: '',
  mascots: ['zebstrika'],
  cards: {
    NVI_35: 4,
    NXD_48: 4,
    PLS_65: 1,
    DRX_54: 2,
    PLB_60: 1,
    PLF_108: 1,
    PLS_126: 3,
    BLW_101: 4,
    DEX_96: 4,
    PLF_101: 1,
    RC_20: 1,
    NXD_89: 4,
    PLS_123: 4,
    EPO_95: 2,
    PLB_88: 2,
    PLF_99: 1,
    NXD_87: 1,
    DRX_114: 1,
    PLB_89: 1,
    DEX_102: 1,
    DEX_94: 1,
    DRX_116: 1,
    NVI_95: 1,
    BLW_108: 10,
    NXD_93: 4
  }
};
const BW_DECKS = {
  KELDEO: KELDEO,
  DARKRAI: DARKRAI,
  EMPOLEON: EMPOLEON,
  FLAREON: FLAREON,
  FLYGON: FLYGON,
  GARCHOMP: GARCHOMP,
  GOTHITELLE: GOTHITELLE,
  KLINKLANG: KLINKLANG,
  LANDORUS: LANDORUS,
  LUGIA: LUGIA,
  PLASMA: PLASMA,
  RAYQUAZA: RAYQUAZA,
  ROUND: ROUND,
  SABLEYE: SABLEYE,
  STOUTLAND: STOUTLAND,
  TOOL_DROP: TOOL_DROP,
  VICTINI: VICTINI,
  GENESECT: GENESECT,
  WEAVILE: WEAVILE,
  ZEBSTRIKA: ZEBSTRIKA
};
const BW_RESTRICTED_MATCHUPS = [['FLYGON', 'GOTHITELLE'], ['LUGIA', 'PLASMA']];

const BLW = {
  BLW_0: 0,
  BLW_1: 0,
  BLW_2: 0,
  BLW_3: 0,
  BLW_4: 0,
  BLW_5: 0,
  BLW_6: 0,
  BLW_7: 0,
  BLW_8: 0,
  BLW_9: 0,
  BLW_10: 0,
  BLW_11: 0,
  BLW_12: 0,
  BLW_13: 0,
  BLW_14: 0,
  BLW_15: 0,
  BLW_16: 0,
  BLW_17: 0,
  BLW_18: 0,
  BLW_19: 0,
  BLW_20: 0,
  BLW_21: 0,
  BLW_22: 0,
  BLW_23: 0,
  BLW_24: 0,
  BLW_25: 0,
  BLW_26: 0,
  BLW_27: 0,
  BLW_28: 0,
  BLW_29: 0,
  BLW_30: 0,
  BLW_31: 0,
  BLW_32: 0,
  BLW_33: 0,
  BLW_34: 0,
  BLW_35: 0,
  BLW_36: 0,
  BLW_37: 0,
  BLW_38: 0,
  BLW_39: 0,
  BLW_40: 0,
  BLW_41: 0,
  BLW_42: 0,
  BLW_43: 0,
  BLW_44: 0,
  BLW_45: 0,
  BLW_46: 0,
  BLW_47: 0,
  BLW_48: 0,
  BLW_49: 0,
  BLW_50: 0,
  BLW_51: 0,
  BLW_52: 0,
  BLW_53: 0,
  BLW_54: 0,
  BLW_55: 0,
  BLW_56: 0,
  BLW_57: 0,
  BLW_58: 0,
  BLW_59: 0,
  BLW_60: 0,
  BLW_61: 0,
  BLW_62: 0,
  BLW_63: 0,
  BLW_64: 0,
  BLW_65: 0,
  BLW_66: 0,
  BLW_67: 0,
  BLW_68: 0,
  BLW_69: 0,
  BLW_60: 0,
  BLW_71: 0,
  BLW_72: 0,
  BLW_73: 0,
  BLW_74: 0,
  BLW_75: 0,
  BLW_76: 0,
  BLW_77: 0,
  BLW_78: 0,
  BLW_79: 0,
  BLW_70: 0,
  BLW_81: 0,
  BLW_82: 0,
  BLW_92: 2,
  BLW_93: 1,
  BLW_94: 6,
  BLW_96: 0,
  BLW_99: 1,
  BLW_101: 8,
  BLW_104: 0,
  BLW_105: 0,
  BLW_106: 0,
  BLW_107: 0,
  BLW_108: 0,
  BLW_109: 0,
  BLW_110: 0,
  BLW_111: 0,
  BLW_112: 0
};
const EPO = {
  EPO_43: 0,
  EPO_45: 0,
  EPO_47: 0,
  EPO_90: 2,
  EPO_92: 0,
  EPO_94: 3,
  EPO_95: 7,
  EPO_96: 3
};
const NVI = {
  NVI_22: 0,
  NVI_23: 0,
  NVI_24: 0,
  NVI_35: 0,
  NVI_38: 0,
  NVI_40: 0,
  NVI_48: 0,
  NVI_91: 0,
  NVI_92: 0,
  NVI_95: 3
};
const NXD = {
  NXD_48: 0,
  NXD_54: 0,
  NXD_59: 0,
  NXD_69: 0,
  NXD_87: 0,
  NXD_88: 1,
  NXD_89: 5,
  NXD_91: 0,
  NXD_92: 0,
  NXD_93: 0
};
const DEX = {
  DEX_11: 0,
  DEX_27: 0,
  DEX_28: 0,
  DEX_29: 0,
  DEX_38: 0,
  DEX_51: 0,
  DEX_62: 0,
  DEX_63: 1,
  DEX_75: 0,
  DEX_76: 0,
  DEX_92: 2,
  DEX_93: 4,
  DEX_94: 4,
  DEX_96: 4,
  DEX_98: 0,
  DEX_99: 4,
  DEX_100: 4,
  DEX_102: 8
};
const DRX = {
  DRX_46: 0,
  DRX_50: 0,
  DRX_51: 0,
  DRX_53: 0,
  DRX_54: 2,
  DRX_71: 0,
  DRX_81: 0,
  DRX_84: 0,
  DRX_85: 0,
  DRX_86: 0,
  DRX_89: 0,
  DRX_90: 0,
  DRX_104: 0,
  DRX_110: 0,
  DRX_114: 0,
  DRX_115: 0,
  DRX_116: 3,
  DRX_118: 0,
  DRX_128: 0
};
const DRV = {};
const BCR = {
  BCR_29: 3,
  BCR_31: 3,
  BCR_49: 3,
  BCR_51: 1,
  BCR_61: 0,
  BCR_62: 0,
  BCR_63: 0,
  BCR_68: 0,
  BCR_83: 0,
  BCR_89: 3,
  BCR_98: 0,
  BCR_99: 0,
  BCR_100: 0,
  BCR_108: 0,
  BCR_122: 0,
  BCR_126: 0,
  BCR_127: 0,
  BCR_128: 0,
  BCR_134: 6,
  BCR_135: 0,
  BCR_136: 2,
  BCR_137: 0,
  BCR_140: 0
};
const PLS = {
  PLS_65: 0,
  PLS_90: 0,
  PLS_93: 0,
  PLS_95: 0,
  PLS_108: 0,
  PLS_117: 3,
  PLS_118: 7,
  PLS_119: 1,
  PLS_120: 0,
  PLS_121: 0,
  PLS_122: 0,
  PLS_123: 5,
  PLS_126: 0,
  PLS_127: 0,
  PLS_128: 1,
  PLS_130: 0
};
const PLF = {
  PLF_4: 0,
  PLF_12: 0,
  PLF_31: 0,
  PLF_33: 1,
  PLF_38: 0,
  PLF_47: 2,
  PLF_53: 0,
  PLF_56: 0,
  PLF_65: 0,
  PLF_66: 0,
  PLF_67: 0,
  PLF_89: 0,
  PLF_99: 0,
  PLF_100: 0,
  PLF_101: 0,
  PLF_102: 3,
  PLF_103: 4,
  PLF_105: 0,
  PLF_107: 0,
  PLF_108: 0
};
const PLB = {
  PLB_1: 0,
  PLB_2: 0,
  PLB_7: 3,
  PLB_9: 0,
  PLB_11: 0,
  PLB_41: 0,
  PLB_52: 0,
  PLB_60: 0,
  PLB_66: 0,
  PLB_81: 1,
  PLB_86: 0,
  PLB_88: 0,
  PLB_89: 0,
  PLB_92: 0,
  PLB_94: 0,
  PLB_95: 0
};
const LTR = {
  LTR_24: 0,
  LTR_67: 0,
  LTR_68: 0
};
const RC = {
  RC_11: 0,
  RC_20: 0
};
const BWP = {
  BWP_28: 0
};
const BW_OWNED = {
  BLW: BLW,
  EPO: EPO,
  NVI: NVI,
  NXD: NXD,
  DEX: DEX,
  DRX: DRX,
  DRV: DRV,
  BCR: BCR,
  PLS: PLS,
  PLF: PLF,
  PLB: PLB,
  LTR: LTR,
  RC: RC,
  BWP: BWP
};

let cardArray;
const getFormatParam = () => {
  let queryParam = window.location.search.substring(1);
  let splitParams = queryParam.split("&");
  for (let p of splitParams) {
    if (p.indexOf("format") != -1) return p.split("=")[1];
  }
  return "";
};
const getCardArray = () => cardArray;
const setCardArray = value => {
  cardArray = value;
};
const getFormatDecks = () => {
  let format = getFormatParam();
  // TODO: Object-ify
  if (format === 'hgss') return HGSS_DECKS;
  if (format === 'bw') return BW_DECKS;
  return {};
};
const getFormatRestrictedMatchups = () => {
  let format = getFormatParam();
  if (format === 'hgss') return HGSS_RESTRICTED_MATCHUPS;
  if (format === 'bw') return BW_RESTRICTED_MATCHUPS;
  return {};
};
const getFormatCards = () => {
  let format = getFormatParam();
  if (format === 'hgss') return HGSS_CARDS;
  if (format === 'bw') return BW_CARDS;
  return {};
};
const getFormatOwned = () => {
  let format = getFormatParam();
  if (format === 'hgss') return HGSS_OWNED;
  if (format === 'bw') return BW_OWNED;
  return {};
};

const GEN_ONE = ['Venusaur', 'Ivysaur', 'Bulbasaur', 'Charizard', 'Charmeleon', 'Charmander', 'Blastoise', 'Wartortle', 'Squirtle', 'Butterfree', 'Metapod', 'Caterpie', 'Beedrill', 'Kakuna', 'Weedle', 'Pidgeot', 'Pidgeotto', 'Pidgey', 'Raticate', 'Rattata', 'Fearow', 'Spearow', 'Arbok', 'Ekans', 'Raichu', 'Pikachu', 'Pichu', 'Sandslash', 'Sandshrew', 'Nidoqueen', 'Nidorina', 'Nidoran (F)', 'Nidoking', 'Nidorino', 'Nidoran (M)', 'Clefable', 'Clefairy', 'Cleffa', 'Ninetales', 'Vulpix', 'Wigglytuff', 'Jigglypuff', 'Igglybuff', 'Crobat', 'Golbat', 'Zubat', 'Bellossom', 'Vileplume', 'Gloom', 'Oddish', 'Parasect', 'Paras', 'Venomoth', 'Venonat', 'Dugtrio', 'Diglett', 'Persian', 'Meowth', 'Golduck', 'Psyduck', 'Primape', 'Mankey', 'Arcanine', 'Growlithe', 'Politoed', 'Poliwrath', 'Poliwhirl', 'Poliwag', 'Alakazam', 'Kadabra', 'Abra', 'Machamp', 'Machoke', 'Machop', 'Victreebel', 'Weepinbell', 'Bellsprout', 'Tentacruel', 'Tentacool', 'Golem', 'Graveler', 'Geodude', 'Rapidash', 'Ponyta', 'Slowking', 'Slowbro', 'Slowpoke', 'Magnezone', 'Magneton', 'Magnemite', "Farfetch'd", 'Dodrio', 'Doduo', 'Dewgong', 'Seel', 'Muk', 'Grimer', 'Cloyster', 'Shellder', 'Gengar', 'Haunter', 'Gastly', 'Steelix', 'Onix', 'Hypno', 'Drowzee', 'Kinger', 'Krabby', 'Electrode', 'Voltorb', 'Exeggutor', 'Exeggcute', 'Marowak', 'Cubone', 'Hitmontop', 'Hitmonlee', 'Hitmonchan', 'Tyrogue', 'Lickilicky', 'Lickitung', 'Weezing', 'Koffing', 'Rhyperior', 'Rhydon', 'Rhyhorn', 'Blissey', 'Chansey', 'Happiny', 'Tangrowth', 'Tangela', 'Kangaskhan', 'Kingdra', 'Seadra', 'Horsea', 'Seaking', 'Goldeen', 'Starmie', 'Staryu', 'Mr. Mime', 'Mime Jr.', 'Scizor', 'Scyther', 'Jynx', 'Smoochum', 'Electivire', 'Electabuzz', 'Elekid', 'Magmortar', 'Magmar', 'Magby', 'Pinsir', 'Tauros', 'Gyarados', 'Magikarp', 'Lapras', 'Ditto', 'Leafeon', 'Flareon', 'Vaporeon', 'Jolteon', 'Espeon', 'Umbreon', 'Sylveon', 'Eevee', 'Porygon Z', 'Porygon 2', 'Porygon', 'Omastar', 'Omanyte', 'Kabutops', 'Kabuto', 'Aerodactyl', 'Snorlax', 'Munchlax', 'Articuno', 'Zapdos', 'Moltres', 'Dragonite', 'Dragonair', 'Dratini', 'Mewtwo', 'Mew'];
const GEN_TWO = ['Meganium', 'Bayleef', 'Chikorita', 'Typhlosion', 'Quilava', 'Cyndaquil', 'Feraligatr', 'Croconaw', 'Totodile', 'Furrett', 'Sentret', 'Noctowl', 'Hoothoot', 'Ledian', 'Ledyba', 'Ariados', 'Spinarak', 'Lanturn', 'Chinchou', 'Togekiss', 'Togetic', 'Togepi', 'Xatu', 'Natu', 'Ampharos', 'Flaafy', 'Mareep', 'Azumarill', 'Marill', 'Azuril', 'Sudowoodo', 'Bonsly', 'Jumpluff', 'Skiploom', 'Hoppip', 'Ambipom', 'Aipom', 'Sunflora', 'Sunkern', 'Yanmega', 'Yanma', 'Quagsire', 'Wooper', 'Honchkrow', 'Murkrow', 'Mismagius', 'Misdreavus', 'Unown', 'Wobbuffet', 'Wynaut', 'Girafarig', 'Forretress', 'Pineco', 'Dunsparce', 'Gliscor', 'Gligar', 'Granbull', 'Snubbul', 'Qwilfish', 'Shuckle', 'Heracross', 'Weavile', 'Sneasel', 'Ursaring', 'Teddiursa', 'Magcargo', 'Slugma', 'Mamoswine', 'Piloswine', 'Swinub', 'Corsola', 'Octillery', 'Remoraid', 'Delibird', 'Mantine', 'Mantyke', 'Skarmory', 'Houndoom', 'Houndour', 'Donphan', 'Phanpy', 'Stantler', 'Smeargle', 'Miltank', 'Raikou', 'Entei', 'Suicune', 'Tyranitar', 'Pupitar', 'Larvitar', 'Lugia', 'Ho-oh', 'Celebi'];
const GEN_THREE = ['Sceptile', 'Grovyle', 'Treecko', 'Blaziken', 'Combusken', 'Torchic', 'Masquerain', 'Surskit', 'Sableye', 'Roserade', 'Roselia', 'Flygon', 'Vibrava', 'Trapinch', 'Altaria', 'Swablu', 'Dusknoir', 'Dusclops', 'Duskull', 'Absol', 'Registeel', 'Rayquaza', 'Jirachi', 'Deoxys'];
const GEN_FOUR = ['Empoleon', 'Prinplup', 'Piplup', 'Vespiquen', 'Combee', 'Pachirisu', 'Drifblim', 'Drifloon', 'Spiritomb', 'Garchomp', 'Gabite', 'Gible', 'Leafeon', 'Dialga', 'Palkia', 'Darkrai', 'Shaymin'];
const GEN_FIVE = ['Victini', 'Stoutland', 'Herdier', 'Lillipup', 'Musharna', 'Munna', 'Zebstrika', 'Blitzle', 'Audino', 'Seismitoad', 'Palpitoad', 'Tympole', 'Sawk', 'Sigilyph', 'Cofagrigus', 'Yamask', 'Garbodor', 'Trubbish', 'Gothitelle', 'Gothorita', 'Gothita', 'Klinklang', 'Klang', 'Klink', 'Eelektrik', 'Tynamo', 'Accelgor', 'Shelmet', 'Bouffalant', 'Cobalion', 'Terrakion', 'Virizion', 'Reshiram', 'Zekrom', 'Landorus', 'Kyurem', 'White Kyurem', 'Black Kyurem', 'Keldeo', 'Meloetta', 'Genesect'];
const PKMN_SORT_ORDER = [...GEN_ONE, ...GEN_TWO, ...GEN_THREE, ...GEN_FOUR, ...GEN_FIVE];
const TYPE_ORDER = ['grass', 'fire', 'water', 'lightning', 'psychic', 'fighting', 'dark', 'metal', 'dragon', 'fairy', 'colorless'];
const removeExcess = string => {
  return string.replace(" EX", "");
};
const pkmnSort = (_a, _b) => {
  let a = removeExcess(getFormatCards()[_a.number.split("_")[0]][_a.number].name);
  let b = removeExcess(getFormatCards()[_b.number.split("_")[0]][_b.number].name);
  if (!PKMN_SORT_ORDER.includes(a) || !PKMN_SORT_ORDER.includes(b)) {
    console.log("Missing from sort order list: ", a, b);
    return 1;
  }
  if (PKMN_SORT_ORDER.indexOf(a) < PKMN_SORT_ORDER.indexOf(b)) return -1;
  if (PKMN_SORT_ORDER.indexOf(a) > PKMN_SORT_ORDER.indexOf(b)) return 1;
  if (PKMN_SORT_ORDER.indexOf(a) === PKMN_SORT_ORDER.indexOf(b)) return 0;
  return 0;
};
const filterPkmnType = type => card => getFormatCards()[card.number.split("_")[0]][card.number].type === type;
const sortPkmn = pkmnList => {
  let typesObj = {};
  for (let type of TYPE_ORDER) {
    typesObj[type] = pkmnList.filter(filterPkmnType(type)).sort(pkmnSort);
  }
  return [...typesObj.grass, ...typesObj.fire, ...typesObj.water, ...typesObj.lightning, ...typesObj.psychic, ...typesObj.fighting, ...typesObj.dark, ...typesObj.metal, ...typesObj.dragon, ...typesObj.colorless];
};
const sortBasicEnergy = (_a, _b) => {
  let a = getFormatCards()[_a.number.split("_")[0]][_a.number].type;
  let b = getFormatCards()[_b.number.split("_")[0]][_b.number].type;
  if (TYPE_ORDER.indexOf(a) < TYPE_ORDER.indexOf(b)) return -1;
  if (TYPE_ORDER.indexOf(a) > TYPE_ORDER.indexOf(b)) return 1;
  if (TYPE_ORDER.indexOf(a) === TYPE_ORDER.indexOf(b)) return 0;
  return 0;
};

/**
 * Goes through all of the Decks and organizes every card into a consumable object
 * @param {Object} decks 
 * @returns Object orgainzed of all the cards and the amount in each deck
 */
const buildCoreObject = decks => {
  let obj = {};

  // Loop through all of the Decks in a Block, and find every instance of every card
  for (let deck of Object.keys(decks)) {
    let _deck = decks[deck].cards;
    for (let card of Object.keys(_deck)) {
      let _card = _deck[card];
      obj[card] = {
        [deck]: _card,
        ...obj[card]
      };
    }
  }
  return obj;
};
const isDeckPartOfRestrictedMatchup = deckName => {
  for (let matchup of getFormatRestrictedMatchups()) {
    if (matchup.includes(deckName)) return true;
  }
  return false;
};
const isCardPartOfRestrictedMatchup = cardCounts => {
  for (let deck of Object.keys(cardCounts)) {
    if (isDeckPartOfRestrictedMatchup(deck)) return true;
  }
  return false;
};
const getHighestCountOfMatchup = (cardCounts, matchup) => {
  let highest = matchup[0];
  for (let deck of matchup) {
    if (cardCounts[deck] > cardCounts[highest]) highest = cardCounts[deck];
  }
  if (!cardCounts[highest] || cardCounts[highest] === 0) return;
  return highest;
};
const mergeRestrictions = _card => {
  let _deckCounts = {
    ..._card
  };
  console.log("DC ? ", _deckCounts);
  if (Object.keys(_card).length === 1) return _card;
  if (!isCardPartOfRestrictedMatchup(_card)) return _card;
  for (let matchup of getFormatRestrictedMatchups()) {
    let root = getHighestCountOfMatchup(_card, matchup);
    if (!root) continue; // If it's part of a matchup, but neither deck actually has a copy

    let _matchup = [...matchup];
    _matchup.splice(_matchup.indexOf(root), 1);
    for (let m of _matchup) {
      if (m === root) continue;
      _deckCounts[m] = 0;
    }
  }
  return _deckCounts;
};
const getHighestCount = cardCounts => {
  let highestCount = 0;
  let highestDeck = Object.keys(cardCounts)[0];
  for (let deck of Object.keys(cardCounts)) {
    let count = cardCounts[deck];
    if (count > highestCount) {
      highestCount = count;
      highestDeck = deck;
    }
  }
  return {
    deck: highestDeck,
    count: highestCount
  };
};

// First, find the highest. Then, find the second-highest. That's your Core Value.
const calcCoreValue = _cardCounts => {
  // Merge Values First

  let cardCounts = mergeRestrictions(_cardCounts);
  if (Object.keys(cardCounts).length === 1) {
    return 0;
  }
  let highestCount = getHighestCount(cardCounts);

  // if(highestCount > 4){ console.log("Energy") }

  let nextHighest = 0;
  for (let deck of Object.keys(cardCounts)) {
    let _count = cardCounts[deck];
    if (highestCount.deck === deck) continue; // You never want to compare the highest count with itself (otherwise, they are always max)

    if (_count === highestCount.count) return highestCount.count; // Get out if the highest count is matched, that's the highest
    if (_count > nextHighest) {
      nextHighest = _count;
    }
  }
  return nextHighest;
};
const filterCore = card => card.counts.core > 0;
const filterDeck = card => card.counts.core === 0 && card.counts.deck > 0;
let formatCards = getFormatCards();
const filterType = type => card => {
  let data = formatCards[card.number.split("_")[0]][card.number];
  if (!data) {
    console.log("Missing: ", card.number);
    return false;
  }
  return data.cardType === type;
};

// const BASIC_ENERGY = ['HS_115','HS_116','HS_117','HS_118','HS_119','HS_120','HS_121','HS_122'];
// const filterEnergy = card => BASIC_ENERGY.includes(card.number);

const sortCardArray = cardArray => {
  let pkmnCore = sortPkmn(cardArray.filter(filterCore).filter(filterType('pkmn')));
  let pkmnDeck = sortPkmn(cardArray.filter(filterDeck).filter(filterType('pkmn')));
  let trainerCore = cardArray.filter(filterCore).filter(filterType('trainer'));
  let trainerDeck = cardArray.filter(filterDeck).filter(filterType('trainer'));
  let itemCore = cardArray.filter(filterCore).filter(filterType('item'));
  let itemDeck = cardArray.filter(filterDeck).filter(filterType('item'));
  let supporterCore = cardArray.filter(filterCore).filter(filterType('supporter'));
  let supporterDeck = cardArray.filter(filterDeck).filter(filterType('supporter'));
  let toolCore = cardArray.filter(filterCore).filter(filterType('tool'));
  let toolDeck = cardArray.filter(filterDeck).filter(filterType('tool'));
  let stadiumCore = cardArray.filter(filterCore).filter(filterType('stadium'));
  let stadiumDeck = cardArray.filter(filterDeck).filter(filterType('stadium'));
  let specialEnergyCore = cardArray.filter(filterCore).filter(filterType('sEnergy'));
  let specialEnergyDeck = cardArray.filter(filterDeck).filter(filterType('sEnergy'));
  let basicEnergy = cardArray.filter(filterType('bEnergy')).sort(sortBasicEnergy);
  return [...pkmnCore, ...trainerCore, ...itemCore, ...supporterCore, ...toolCore, ...stadiumCore, ...specialEnergyCore, ...pkmnDeck, ...trainerDeck, ...itemDeck, ...supporterDeck, ...toolDeck, ...stadiumDeck, ...specialEnergyDeck, ...basicEnergy];
};
const noNegative = number => number < 0 ? 0 : number;
const buildNeedObject = (counts, have) => {
  // This is assuming a two-player core
  let rem = have;
  let coreSingle = noNegative(counts.core - rem);
  rem = noNegative(rem - counts.core);
  let deck = noNegative(counts.deck - rem);
  rem = noNegative(rem - counts.deck);
  let coreDouble = noNegative(counts.core - rem);
  rem = noNegative(rem - counts.core);
  return {
    core: {
      single: coreSingle,
      double: coreDouble
    },
    deck: deck,
    extra: rem
  };
};

/**
 * Takes the Core Object (which just includes the number of copies per deck),
 * and creates a more useful object for consumers that includes:
 * 
 * Number | Decks | Counts | Have | Need
 * @param {string} cardNo card set and number, spaced by a _ [XX_00]
 * @param {Object} decks List of cards and all of the decks they are in
 * @returns Object that has all of the needed data for the cards
 */
const buildCardObj = (cardNo, decks) => {
  let _obj = {};
  let cv = calcCoreValue(decks);
  _obj.number = cardNo;
  _obj.decks = decks;
  _obj.counts = {
    core: cv,
    deck: getHighestCount(decks).count - cv
  };
  _obj.have = getFormatOwned()[cardNo.split("_")[0]][cardNo], _obj.need = buildNeedObject(_obj.counts, _obj.have);
  return _obj;
};
const buildCardArray = coreObj => {
  let _combinedArray = [];
  let _unfiltered = [];
  for (let card of Object.keys(coreObj)) {
    let _card = buildCardObj(card, coreObj[card]);
    _unfiltered.push(_card);
  }
  _combinedArray = [..._unfiltered];
  return _combinedArray;
};

const buildCountClass = (count, card, label) => {
  let list = [];
  if (count >= 10) list.push("small-text");
  if (count === 0) list.push("fade");
  if ((label === 'need-core-single' || label === 'need-core-double') && card.counts.core === 0) list.push("hide");
  if (label === 'need-deck' && card.counts.deck === 0) list.push("hide");
  return list.join(" ");
};
const buildNeedClass = need => {
  if (need.core.single === 0 && need.core.double === 0 && need.deck === 0) return "all";
  if (need.core.single === 0 && need.deck === 0) return "single";
  return 'none';
};
const buildDittoColumn = card => {
  let _count = document.createElement("p");
  _count.classList.add("deck-count");
  let allCount = 0;
  for (let deck of Object.keys(card.decks)) {
    allCount += card.decks[deck];
  }
  if (allCount > 9) _count.classList.add("small-text");
  _count.innerHTML = allCount;
  return _count;
};

/**
 * Creates the subsection of the Core Table with the PKMN info
 * 
 * Number | Type | Name
 * @param {Array} cards list of all of the cards 
 * @returns HTML Node for table section about the card info (number, type, name, etc.)
 */
const buildCoreTableCardInfo = cards => {
  let cardInfoElem = document.createElement('div');
  cardInfoElem.classList.add("table-section", "card-info");
  cardInfoElem.innerHTML = "<div class='header'><p>Card</p></div>";
  for (let card of cards) {
    let _elem = document.createElement("div");
    _elem.classList.add("row", "info");
    let set = card.number.split("_")[0];
    let cardData = getFormatCards()[set][card.number];
    let numberElem = `<p class="number ${cardData.type}">${card.number.replace("_", "")}</p>`;
    let typeElem = cardData.type ? `<div class='type-icon'><img src='file:///C:/Users/conov/Documents/pkmn-card-manager/images/energy/${cardData.type}.png'/></div>` : `<div class='type-icon'></div>`;
    let nameElem = `<p class="name">${cardData.name}</p>`;
    _elem.innerHTML = numberElem + typeElem + nameElem;
    cardInfoElem.appendChild(_elem);
  }
  return cardInfoElem;
};
const buildCoreTableDecklists = (cards, deckListOrder) => {
  let decklistElem = document.createElement('div');
  decklistElem.classList.add("table-section", "decklist");
  let headerHTML = "<div class='header decklist'>";
  for (let deck of deckListOrder) {
    let mascot = getFormatDecks()[deck].mascots[0];
    let image = !mascot ? 'ditto' : mascot;
    headerHTML += `<div class='img-wrap'><img src="file:///C:/Users/conov/Documents/pkmn-card-manager/images/pkmn/${image}.png"/></div>`;
  }
  headerHTML += "<div class='img-wrap'><img src='file:///C:/Users/conov/Documents/pkmn-card-manager/images/pkmn/ditto.png'/></div>";
  headerHTML += "</div>";
  decklistElem.innerHTML = headerHTML;
  console.log("CARDS: ", cards);
  for (let card of cards) {
    let _elem = document.createElement("div");
    _elem.classList.add("row", "decks");
    for (let deck of deckListOrder) {
      let _count = document.createElement("p");
      _count.classList.add("deck-count");
      if (!card.decks[deck]) _count.classList.add("hide");
      _count.innerHTML = card.decks[deck] || "0";
      _elem.appendChild(_count);
    }
    let dittoColumn = buildDittoColumn(card);
    _elem.appendChild(dittoColumn);
    decklistElem.appendChild(_elem);
  }
  return decklistElem;
};
const buildCoreTableCounts = cards => {
  let cardCountsElem = document.createElement('div');
  cardCountsElem.classList.add("table-section", "card-counts");
  cardCountsElem.innerHTML = "<div class='header'><div class='top'><p>Count</p><p>Need</div><div class='bottom'><p>C</p><p>D</p><p>C1</p><p>C2</p><p>D</p></div>";
  for (let card of cards) {
    let _elem = document.createElement("div");
    _elem.classList.add("row", "counts");
    let coreCountElem = `<p class="core ${buildCountClass(card.counts.core, card, 'core-count')}">${card.counts.core}</p>`;
    let deckCountElem = `<p class="deck ${buildCountClass(card.counts.deck, card, 'deck-count')}">${card.counts.deck}</p>`;
    let coreNeedSingleElem = `<p class="${buildCountClass(card.need.core.single, card, 'need-core-single')}">${card.need.core.single}</p>`;
    let coreNeedDoubleElem = `<p class="${buildCountClass(card.need.core.double, card, 'need-core-double')}">${card.need.core.double}</p>`;
    let deckNeedElem = `<p class="${buildCountClass(card.need.deck, card, 'need-deck')}">${card.need.deck}</p>`;
    _elem.innerHTML = `<div class='count'>${coreCountElem} ${deckCountElem}</div> <div class='need ${buildNeedClass(card.need)}'>${coreNeedSingleElem} ${coreNeedDoubleElem} ${deckNeedElem}</div>`;
    cardCountsElem.appendChild(_elem);
  }
  return cardCountsElem;
};

/**
 * Builds a Table Element to be used for the Core Display
 * @returns table element node
 */
const buildCoreTableElem = (cardArray, deckListOrder) => {
  let tableElem = document.createElement("div");
  tableElem.classList.add("table");
  tableElem.classList.add("core");
  let tableWrapperElem = document.createElement('div');
  tableWrapperElem.classList.add("table-wrapper");
  let cardInfoElem = buildCoreTableCardInfo(cardArray);
  let cardDecklistElem = buildCoreTableDecklists(cardArray, deckListOrder);
  let cardCountsElem = buildCoreTableCounts(cardArray);
  tableWrapperElem.appendChild(cardInfoElem);
  tableWrapperElem.appendChild(cardDecklistElem);
  tableWrapperElem.appendChild(cardCountsElem);
  tableElem.appendChild(tableWrapperElem);
  return tableElem;
};

const coreView = () => {
  let deckListOrder = Object.keys(getFormatDecks());
  let cardArray = getCardArray();
  cardArray = sortCardArray(cardArray);
  console.log("CA: ", cardArray);
  let coreTableElem = buildCoreTableElem(cardArray, deckListOrder);
  return coreTableElem;
};

const getCardName = string => {
  let _string = string;
  _string = _string.substring(_string.indexOf(" "));
  _string = _string.substring(0, _string.indexOf(" ("));
  return _string;
};
const getSet = string => {
  let start = string.indexOf("(");
  let end = string.indexOf(")");
  let setInfo = string.substring(start + 1, end);
  return setInfo.replace(" ", "_");
};
const buildObject = value => {
  let cards = {};
  let cardList = value.split("\n");
  for (let card of cardList) {
    let set = getSet(card);
    cards[set] = {
      name: getCardName(card),
      count: card.split(" ")[0]
    };
  }
  return cards;
};
const objToString = obj => {
  let _string = "{";
  for (let key of Object.keys(obj)) {
    _string += `${key}:${obj[key].count}, `;
  }
  return _string + "}";
};
const onClick = e => {
  e.preventDefault();
  let pasteBox = document.getElementById("paste-area");
  let value = pasteBox.value;
  let obj = buildObject(value);
  let string = objToString(obj);
  navigator.clipboard.writeText(string);
};
const buildTextAreaElem = () => {
  let elem = document.createElement("div");
  elem.classList.add("paste-deck-area");
  let form = document.createElement("form");
  form.onsubmit = onClick;
  let textArea = document.createElement('textarea');
  textArea.id = "paste-area";
  textArea.rows = 24;
  textArea.cols = 100;
  let label = document.createElement("label");
  label.innerHTML = "Paste Deck List";
  let button = document.createElement("button");
  button.type = "submit";
  button.innerHTML = "Convert";
  form.appendChild(label);
  form.appendChild(textArea);
  form.appendChild(button);
  elem.appendChild(form);
  return elem;
};
const deckConverter = () => {
  let elem = document.createElement('div');
  elem.classList.add("deck-converter");
  let inputElem = buildTextAreaElem();
  elem.appendChild(inputElem);
  return elem;
};

let rootElem = document.getElementById('content');
let corePage, deckConverterPage;
const changePage = pageName => {
  rootElem.innerHTML = "";
  if (pageName === 'core') rootElem.appendChild(corePage);
  if (pageName === 'convert') rootElem.appendChild(deckConverterPage);
};
const attachNavEvents = () => {
  document.getElementById('nav-button-core').addEventListener('click', e => {
    changePage('core');
  });
  document.getElementById('nav-button-convert').addEventListener('click', e => {
    changePage('convert');
  });
};
window.onload = function () {
  init();
  // deckConverter();
};
var init = function init() {
  attachNavEvents();
  getFormatDecks();
  let _coreObj = buildCoreObject(getFormatDecks());
  let _cardArray = buildCardArray(_coreObj);
  setCardArray(_cardArray);
  deckConverterPage = deckConverter();
  corePage = coreView();
  rootElem.appendChild(corePage);
};
